<?php

session_start();
 
class Activity extends CI_Controller{
    function __construct(){
        parent::__construct();
    }

    function index(){
        $this->load->view('base/mainnav',array('page'=>'activity'));
        $this->load->view('base/footer');
    }

    /**
     * 新增活动API
     * @authro ca007
     * @return json $errorMessage
     */
    function addActivity(){
        if (!isset($_SESSION['userID'])) {
			echo json_encode(errorMessage(-1,'未登录'));
		}

        $this->load->model('activity_model','act');
        $result = $this->act->addActivity($_REQUEST['act_start_date'],
                                          $_REQUEST['act_end_date'],
                                          $_REQUEST['sign_end_date'],
                                          $_REQUEST['address'],
                                          $_REQUEST['title'],
                                          $_REQUEST['detail'],
                                          $_REQUEST['pic'],
                                          $_REQUEST['type'],
                                          $_REQUEST['state'],
                                          $_REQUEST['total'],
                                          $_REQUEST['group_list']);
        echo json_encode($result);
    }
}

?>